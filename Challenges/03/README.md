Разглеждане на именовано пространство

Именованите пространства в Clojure просто съпоставят символи на променливи (или Java класове). Ако имате едно именовано пространство, може да го дадете на ns-map, за да получите мап от имената в това именовано пространство към променливите в него. Понеже *ns* е текущото именовано пространство, (ns-map *ns*) ще ви върне мап от всички имена, които са достъпни в нея.

Напишете функция inspect, която дава информация за интересните неща в именовано пространство. Под интересни, разбираме нещата, които имат метаданни ^:interesting. Например, от долните две променливи, само първата е интересна:

(def ^:interesting cool-answer 42)
(def boring-answer (* 5 9))

Функцията inspect трябва да ни връща мап със следните ключове:

    :integers - множество от всички интересни числа
    :strings - множество от всички интересни низови
    :vectors - множество от всички интересни вектори
    :funcs - множество от имената на всички интересни функции, като символи
    :positive - множество от имената (като символи) от всички интересни функции на един аргумент, които връщат положителна стойност за всички интересни числа

Например:

(defn neg {:interesting true} [a] (- a))
(defn plus-two {:interesting true} [a] (+ a 2))
(def uninteresting 99)
(def ^:interesting answer 42)
(def ^:interesting the-name "John Coltrane")
(def ^:interesting the-album "A Love Supreme")
(def ^:interesting nums [1 2 3 4 5])

(inspect *ns*)
; {:vectors #{[1 2 3 4 5]}
;  :integers #{42}
;  :funcs '#{plus-two neg}
;  :positive '#{plus-two}
;  :strings #{"A Love Supreme" "John Coltrane"}}

Подсказки:

    Разгледайте метаданните на променлива, съдържаща функция, за идеи. Например (meta #'plus-two).
    some, every? и fn?


